<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ë‘ì«€ì¿  ë‹¤ë§ˆê³ ì¹˜</title>
    <style>
        :root { --main-color: #ffcc80; --btn-color: #fb8c00; }
        body { margin: 0; background: #fff5e6; font-family: 'Apple SD Gothic Neo', sans-serif; text-align: center; color: #5d4037; }
        
        /* ìƒë‹¨ ìƒíƒœë°” */
        #status-bar { display: flex; justify-content: space-around; padding: 15px; background: var(--main-color); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .stat-item { font-weight: bold; font-size: 0.9rem; }

        /* ë©”ì¸ ìºë¦­í„° ì˜ì—­ */
        #game-screen { height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        #character { font-size: 120px; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; user-select: none; }
        #character:active { transform: scale(1.3) rotate(5deg); }
        #message { margin-top: 20px; font-size: 1.1rem; min-height: 1.5em; background: white; padding: 5px 20px; border-radius: 20px; border: 2px solid var(--main-color); }

        /* ì»¨íŠ¸ë¡¤ ë²„íŠ¼ */
        .controls { display: flex; justify-content: center; gap: 15px; padding: 20px; }
        button { padding: 12px 25px; border: none; border-radius: 25px; background: var(--btn-color); color: white; font-weight: bold; font-size: 1rem; box-shadow: 0 4px 0 #e65100; transition: 0.1s; }
        button:active { transform: translateY(3px); box-shadow: 0 1px 0 #e65100; }
        
        /* í™€ë” ì¸ì¦ ì„¹ì…˜ */
        #holder-section { margin-top: 10px; padding: 10px; border-top: 1px dashed #d7ccc8; }
        .badge { display: inline-block; padding: 5px 12px; border-radius: 15px; font-size: 0.8rem; background: #eee; margin-bottom: 10px; }
        .gold-tier { background: #ffd700; color: #856404; font-weight: bold; box-shadow: 0 0 10px rgba(255,215,0,0.5); }
    </style>
</head>
<body>

    <div id="status-bar">
        <div class="stat-item">ğŸ— í¬ë§Œê°: <span id="hunger">100</span></div>
        <div class="stat-item">â¤ï¸ í–‰ë³µ: <span id="happiness">100</span></div>
    </div>

    <div id="game-screen">
        <div id="tier-badge" class="badge">ì¼ë°˜ ì¿ í‚¤ ë“±ê¸‰</div>
        <div id="character">ğŸª</div>
        <div id="message">ë‚˜ë¥¼ ëŒë´ì¤˜! (ì†”ë¼ë‚˜ ì§€ê°‘ ì—°ê²° ê°€ëŠ¥)</div>
    </div>

    <div class="controls">
        <button onclick="feed()">ğŸ™ ë¨¹ì´ì£¼ê¸°</button>
        <button onclick="play()">ğŸ¾ ë†€ì•„ì£¼ê¸°</button>
    </div>

    <div id="holder-section">
        <button onclick="connectWallet()" style="background: #512da8; font-size: 0.8rem;">ì†”ë¼ë‚˜ ì§€ê°‘ ì—°ê²° (ë³´ìœ ëŸ‰ í™•ì¸)</button>
    </div>

    <script>
        // ê²Œì„ ë°ì´í„°
        let state = {
            hunger: 100,
            happiness: 100,
            tokenBalance: 0, // ì†”ë¼ë‚˜ ì½”ì¸ ë³´ìœ ëŸ‰
            isHolder: false
        };

        const charEl = document.getElementById('character');
        const msgEl = document.getElementById('message');
        const badgeEl = document.getElementById('tier-badge');

        // ìƒíƒœ ì—…ë°ì´íŠ¸ ë£¨í”„ (5ì´ˆë§ˆë‹¤)
        setInterval(() => {
            state.hunger = Math.max(0, state.hunger - 5);
            state.happiness = Math.max(0, state.happiness - 3);
            render();
        }, 5000);

        function render() {
            document.getElementById('hunger').innerText = state.hunger;
            document.getElementById('happiness').innerText = state.happiness;

            // ë“±ê¸‰ë³„ ìºë¦­í„° ë° ìƒíƒœ ë³€ê²½
            if (state.tokenBalance >= 1000000) { // 100ë§Œê°œ ë³´ìœ  ì‹œ
                badgeEl.innerText = "â­ ê³¨ë“œ ì«€ë–¡ í™€ë” â­";
                badgeEl.className = "badge gold-tier";
                if (charEl.innerText !== "ğŸ‘‘") charEl.innerText = "ğŸ‘‘"; // ì™•ê´€ ì“´ ì¿ í‚¤
            } else {
                if (state.hunger < 30) charEl.innerText = "ğŸ˜­";
                else if (state.happiness < 30) charEl.innerText = "ğŸ˜´";
                else charEl.innerText = "ğŸª";
            }
        }

        function feed() {
            state.hunger = Math.min(100, state.hunger + 20);
            msgEl.innerText = "ëƒ ëƒ ! ë„ˆë¬´ ë§›ìˆì–´!";
            render();
        }

        function play() {
            state.happiness = Math.min(100, state.happiness + 20);
            msgEl.innerText = "ì™€! ì«€ë–¡ì€ í–‰ë³µí•´ìš”!";
            render();
        }

        // ì†”ë¼ë‚˜ ì§€ê°‘ ì—°ê²° (ì‹œë®¬ë ˆì´ì…˜)
        async function connectWallet() {
            msgEl.innerText = "ì§€ê°‘ì„ ì—°ê²°í•˜ëŠ” ì¤‘...";
            
            // ë‚˜ì¤‘ì— ì—¬ê¸°ì— ì‹¤ì œ Solana @solana/web3.js ì—°ë™ ì½”ë“œê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤.
            setTimeout(() => {
                // í…ŒìŠ¤íŠ¸ìš©: í´ë¦­ ì‹œ 200ë§Œê°œ ë³´ìœ í•œ ê²ƒìœ¼ë¡œ ê°€ì •
                state.tokenBalance = 2000000;
                state.isHolder = true;
                msgEl.innerText = "í™€ë” ì¸ì¦ ì„±ê³µ! ì™•ê´€ì„ ì–»ì—ˆìŠµë‹ˆë‹¤!";
                render();
            }, 1500);
        }
    </script>
</body>
</html>

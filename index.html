<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>DUJJONCU Game</title>
    <style>
        body { background: #2c3e50; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: 'Courier New', monospace; overflow: hidden; }
        
        /* ê²Œì„ê¸° ë³¸ì²´ - ì‹œì¸ì„±ì„ ìœ„í•´ í¬ê²Œ í‚¤ì›€ */
        #game-console { 
            background: #4b4b4b; padding: 40px; border-radius: 60px; 
            box-shadow: 0 15px 0 #222, inset 0 -5px 10px rgba(0,0,0,0.5); 
            width: 400px; text-align: center; position: relative;
        }

        /* í° ì•¡ì • í™”ë©´ */
        #screen { 
            background: #9dbb94; width: 350px; height: 450px; margin: 0 auto;
            border: 10px solid #333; position: relative; overflow: hidden;
            display: flex; flex-direction: column; align-items: center;
        }

        /* ìƒë‹¨ ìƒíƒœë°” */
        #stats-bar { 
            width: 100%; height: 40px; background: rgba(0,0,0,0.15); 
            display: flex; justify-content: space-around; align-items: center; font-weight: bold; font-size: 16px;
        }

        /* ë‘ì«€ì¿  ìºë¦­í„° ì»¨í…Œì´ë„ˆ */
        #char-container { position: relative; margin-top: 60px; width: 220px; height: 220px; }
        
        #character {
            width: 100%; height: 100%;
            background: url('ì—¬ê¸°ì—_ë‘ì«€ì¿ _ë„íŠ¸ì´ë¯¸ì§€_ì£¼ì†Œ_ë„£ê¸°') no-repeat center/contain;
            image-rendering: pixelated; transition: transform 0.2s;
        }

        /* ì´í™íŠ¸: ë°˜ì§ì´ëŠ” ë³„ (CSS ì• ë‹ˆë©”ì´ì…˜) */
        .star {
            position: absolute; width: 20px; height: 20px; background: gold;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            animation: blink 0.8s infinite alternate; opacity: 0;
        }

        @keyframes blink { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1.2); } }
        
        /* ì§„ë™ ì• ë‹ˆë©”ì´ì…˜ */
        .vibrate { animation: shake 0.2s infinite; }
        @keyframes shake {
            0% { transform: translate(1px, 1px); }
            50% { transform: translate(-1px, -1px); }
            100% { transform: translate(1px, -1px); }
        }

        /* í•˜ë‹¨ ë©”ì‹œì§€ */
        #msg-box { 
            position: absolute; bottom: 0; width: 100%; height: 60px; 
            background: rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; font-size: 14px; border-top: 2px solid #333;
        }

        /* ì¡°ì‘ ë²„íŠ¼ */
        .controls { margin-top: 30px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .btn { 
            padding: 20px; font-size: 18px; font-weight: bold; cursor: pointer; border-radius: 15px; 
            border: none; background: #ecf0f1; box-shadow: 0 6px 0 #bdc3c7; 
        }
        .btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #bdc3c7; }
        .btn-feed { background: #f1c40f; color: #7f8c8d; }
    </style>
</head>
<body>

<div id="game-console">
    <div id="screen">
        <div id="stats-bar">
            <span>ğŸª HUNGER: <span id="h-val">100</span></span>
            <span>ğŸ† SCORE: <span id="s-val">0</span></span>
        </div>
        
        <div id="char-container">
            <div id="stars"></div>
            <div id="character"></div>
        </div>

        <div id="msg-box">DUJJONCU ëŒ€ê¸° ì¤‘...</div>
    </div>

    <div class="controls">
        <button class="btn btn-feed" onclick="feed()">FEED (ë°¥ì£¼ê¸°)</button>
        <button class="btn" onclick="showRank()">RANK (ê¸°ë¡)</button>
    </div>
</div>

<script>
    let hunger = 100;
    let score = 0;
    let isHappy = true;

    const char = document.getElementById('character');
    const starsContainer = document.getElementById('stars');
    const msgBox = document.getElementById('msg-box');

    // 1. ìƒíƒœ ì—…ë°ì´íŠ¸ ë£¨í”„
    setInterval(() => {
        if (hunger > 0) {
            hunger -= 2;
            score += 10;
            updateLogic();
        }
    }, 1000);

    function updateLogic() {
        document.getElementById('h-val').innerText = hunger;
        document.getElementById('s-val').innerText = score;

        // ì»¨ë””ì…˜ ì²´í¬ (ë°°ê³ í”” 70 ì´ìƒì´ë©´ í•´í”¼ ì´í™íŠ¸)
        if (hunger > 70) {
            isHappy = true;
            char.classList.add('vibrate'); // ì§„ë™ ì¶”ê°€
            showStars(true);
            msgBox.innerText = "DUJJONCU ê¸°ë¶„ ìµœê³ ! âœ¨";
        } else {
            isHappy = false;
            char.classList.remove('vibrate');
            showStars(false);
            msgBox.innerText = hunger < 30 ? "ë°°ê°€ ê³ íŒŒì„œ ê¸°ìš´ì´ ì—†ì–´ìš”.." : "ë‘ì«€ë‘ì«€ ì«€ë“í•œ ëŒ€ê¸° ì¤‘";
        }

        if (hunger <= 0) {
            msgBox.innerText = "ê²Œì„ ì˜¤ë²„... ëˆ…ëˆ…í•´ì¡Œì–´ìš”.";
            char.style.opacity = "0.5";
        }
    }

    // ë°¥ ì£¼ê¸° ê¸°ëŠ¥
    function feed() {
        if (hunger <= 0) return;
        hunger = Math.min(100, hunger + 15);
        char.style.transform = "scale(1.3)"; // ìˆœê°„ì ìœ¼ë¡œ ì»¤ì§€ëŠ” ì—°ì¶œ
        setTimeout(() => char.style.transform = "scale(1)", 200);
        updateLogic();
    }

    // ë³„ ì´í™íŠ¸ ìƒì„± í•¨ìˆ˜
    function showStars(show) {
        starsContainer.innerHTML = '';
        if (show) {
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() + 's';
                starsContainer.appendChild(star);
            }
        }
    }

    function showRank() {
        const best = localStorage.getItem('dujjonBest') || 0;
        if (score > best) localStorage.setItem('dujjonBest', score);
        alert("í˜„ì¬ ìµœê³  ê¸°ë¡: " + Math.max(best, score) + "ì ");
    }
</script>

</body>
</html>
